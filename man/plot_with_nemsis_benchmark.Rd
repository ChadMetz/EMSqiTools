% Generated by roxygen2: do not edit by hand
% Please edit documentation in r/plot_with_nemsis_benchmark.R
\name{plot_with_nemsis_benchmark}
\alias{plot_with_nemsis_benchmark}
\title{Control Chart with NEMSIS Benchmark Overlay}
\usage{
plot_with_nemsis_benchmark(
  data,
  date_col,
  id_col,
  num_condition,
  den_condition,
  time_unit = "month",
  name = NULL,
  benchmark_id,
  benchmark_years = c(2023, 2024, 2025),
  annotations = NULL
)
}
\arguments{
\item{data}{A data frame containing your local data.}

\item{date_col}{Column name (unquoted) for date/time of events.}

\item{id_col}{Column name (unquoted) for unique encounter IDs.}

\item{num_condition}{Expression or condition for the numerator.}

\item{den_condition}{Expression or condition for the denominator.}

\item{time_unit}{Time grouping unit: "month", "week", "quarter", etc.}

\item{name}{Title of the SPC chart.}

\item{benchmark_id}{Character string. NEMSIS benchmark ID to overlay (e.g., "Seizure-02").}

\item{benchmark_years}{Integer vector. Calendar years to include for the benchmark overlay.}

\item{annotations}{Optional. Data frame of annotations passed to \code{qi_spc()}.}
}
\value{
A list containing the SPC plot with overlay and summary table.
}
\description{
Generates a p-chart using \code{qi_spc()} and overlays national benchmark data from NEMSIS.
Useful for comparing your local quality improvement trends against national reference values.
}
\examples{
\dontrun{
df <- qi_csv("seizure_cases.csv")
spc_overlay <- plot_with_nemsis_benchmark(
  data = df,
  date_col = IncidentDate,
  id_col = pcr,
  num_condition = "intervention == TRUE",
  den_condition = "TRUE",
  time_unit = "month",
  name = "Seizure-02: Intervention Given",
  benchmark_id = "Seizure-02",
  benchmark_years = 2023:2025
)

spc_overlay$plot
}
}
